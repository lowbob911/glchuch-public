{"version":3,"sources":["webpack:///./src/pages/index.js","webpack:///./assets/img/church.jpg"],"names":["Home","useState","publications","setPublications","useEffect","fetch","process","then","response","json","resultData","console","log","className","map","publication","key","_id","to","src","previewImage","url","churchImg","alt","label","Intl","DateTimeFormat","timeZone","format","Date","published_at","dangerouslySetInnerHTML","__html","showdown","Converter","makeHtml","description","module","exports"],"mappings":"4FAAA,sJAOe,SAASA,IAAQ,IAAD,EACaC,mBAAS,IAA1CC,EADoB,KACNC,EADM,KAY3B,OATAC,qBAAU,WACNC,MAASC,yCACJC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACFC,QAAQC,IAAIF,GACZP,EAAgBO,QAEzB,IAGC,kBAAC,IAAD,KACI,yBAAKG,UAAU,eACX,wBAAIA,UAAU,cAAd,YAIJ,yBAAKA,UAAU,YACVX,EAAaY,KAAI,SAAAC,GAAW,aACzB,yBAAKF,UAAU,SAASG,IAAG,QAAUD,EAAYE,KAC7C,yBAAKJ,UAAU,oBACX,yBAAKA,UAAU,+BACX,kBAAC,IAAD,CAAMK,GAAE,mBAAqBH,EAAYE,KACrC,yBAAKE,KAAKJ,SAAA,UAAAA,EAAaK,oBAAb,eAA2BC,MAAOC,IACvCC,IAAKR,EAAYS,UAI9B,yBAAKX,UAAU,oBACX,6BACI,0BAAMA,UAAU,oBACX,IAAIY,KAAKC,eAAe,QAAS,CAACC,SAAU,oBAAoBC,OAAO,IAAIC,KAAKd,EAAYe,gBAEjG,kBAAC,IAAD,CAAMZ,GAAE,mBAAqBH,EAAYE,KACrC,0BAAMJ,UAAU,qBAAqBE,EAAYS,SAGzD,yBAAKO,wBAAyB,CAACC,QAAQ,IAAIC,IAASC,WAAYC,SAASpB,EAAYqB,0B,qBC9CrHC,EAAOC,QAAU,IAA0B","file":"component---src-pages-index-js-7d38243caac9dc76bf28.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport BasicWrapper from \"../components/BasicWrapper\";\r\nimport churchImg from \"../../assets/img/church.jpg\";\r\nimport showdown from \"showdown\";\r\nimport {Link} from \"gatsby\";\r\n\r\nexport default function Home() {\r\n    const [publications, setPublications] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch(`${process.env.GATSBY_API_URL}/publications`)\r\n            .then(response => response.json())\r\n            .then(resultData => {\r\n                console.log(resultData);\r\n                setPublications(resultData);\r\n            })\r\n    }, []);\r\n\r\n    return (\r\n        <BasicWrapper>\r\n            <div className=\"text-center\">\r\n                <h3 className=\"main-color\">\r\n                    Новости\r\n                </h3>\r\n            </div>\r\n            <div className=\"row mt-3\">\r\n                {publications.map(publication => (\r\n                    <div className=\"col-12\" key={`test_${publication._id}`}>\r\n                        <div className=\"publication-item\">\r\n                            <div className=\"publication-img text-center\">\r\n                                <Link to={`/publication?id=${publication._id}`}>\r\n                                    <img src={publication?.previewImage?.url || churchImg}\r\n                                         alt={publication.label}\r\n                                    />\r\n                                </Link>\r\n                            </div>\r\n                            <div className=\"publication-info\">\r\n                                <div>\r\n                                    <span className=\"publication-time\">\r\n                                        {new Intl.DateTimeFormat('RU-ru', {timeZone: \"Europe/Helsinki\"}).format(new Date(publication.published_at))}\r\n                                    </span>\r\n                                    <Link to={`/publication?id=${publication._id}`}>\r\n                                        <span className=\"publication-label\">{publication.label}</span>\r\n                                    </Link>\r\n                                </div>\r\n                                <div dangerouslySetInnerHTML={{__html: new showdown.Converter().makeHtml(publication.description)}} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </BasicWrapper>\r\n    )\r\n}\r\n\r\n","module.exports = __webpack_public_path__ + \"static/church-5d1e308030c5789756b8c04addd814eb.jpg\";"],"sourceRoot":""}